# Миграция цветовой системы V1 → V2

## Обзор

Была выполнена миграция цветовой системы с устаревших V1 переменных на новые V2 переменные в соответствии с комментарием в `tailwind.scss`:

```scss
// ! V2 vars. NEED TO REPLACE ALL TOP COLORS WITH THAT FRESH NEW COLORS
```

## Что было изменено

### 1. CSS переменные (`src/assets/styles/tailwind.scss`)

- **Удалены**: Старые V1 переменные из первых двух блоков `:root` и `.dark`
- **Обновлены**: V2 переменные стали основными
- **Добавлены**: Legacy aliases для обратной совместимости

### 2. Tailwind конфигурация (`tailwind.config.js`)

- **Реорганизованы**: Цвета сгруппированы по типам (green, main, red, text, etc.)
- **Приоритизированы**: V2 цвета стали основными
- **Сохранены**: Legacy aliases для существующего кода
- **Исправлена**: Структура текстовых цветов для правильного именования классов

## Структура новой цветовой системы

### Основные цвета V2:
- `--bg` - фон приложения
- `--cards-widget` - фон карточек и виджетов  
- `--white` - белый цвет
- `--alterts-alert` - цвет предупреждений

### Зеленые цвета:
- `--green-11100`, `--green-1100`, `--green-115`, `--green-12100`
- `--green-130`, `--green-150`, `--green-180`

### Основные акцентные цвета:
- `--main-100`, `--main-15`, `--main-30`, `--main-50`
- `--main-8`, `--main-10`, `--main-80`

### Красные цвета:
- `--red-100`, `--red-15`, `--red-30`, `--red-5`
- `--red-50`, `--red-80`

### Текстовые цвета V2:
- `--text-1100`, `--text-170`, `--text-100`, `--text-2100`
- `--text-260`, `--text-270`, `--text-20`, `--text-3100`
- `--text-30`, `--text-30100`, `--text-4100`, `--text-4030`
- `--text-50`, `--text-60`, `--text-5070`, `--text-80100`

### Обводки:
- `--stroke-100`, `--stroke-40100`

### Фиолетовые цвета:
- `--violet-100`, `--violet-15`, `--violet-30`
- `--violet-50`, `--violet-80`

## Обратная совместимость

Для обеспечения работы существующего кода добавлены legacy aliases:

```scss
/* Legacy aliases for backward compatibility */
--cards: var(--cards-widget);
--text: var(--text-1100);
--stroke-element: var(--stroke-100);
--input-additional: var(--cards-widget);
```

## Использование в Tailwind

### V2 классы (рекомендуется для нового кода):

```html
<!-- Основные цвета -->
<div class="bg-bg text-text-1100">
<div class="border-stroke-100">
<div class="text-main-100">

<!-- Текстовые цвета V2 -->
<p class="text-text-1100">Основной текст</p>
<p class="text-text-260">Вторичный текст</p>
<p class="text-text-4100">Акцентный текст</p>

<!-- Зеленые цвета V2 -->
<div class="bg-green-1100 text-green-11100">
<div class="border-green-115">

<!-- Группированные цвета -->
<div class="bg-main-100 text-white">
<div class="border-red-100 text-red-100">
```

### Legacy классы (для совместимости):

```html
<!-- Старые классы по-прежнему работают -->
<div class="bg-cards text-text">
<div class="text-text-50 text-text-80">
```

## Темная тема

Темная тема также обновлена с V2 переменными и сохраняет legacy aliases для совместимости.

## Рекомендации по миграции

### 1. Для нового кода:
- Используйте V2 переменные: `text-text-1100`, `bg-bg`, `border-stroke-100`
- Группированные цвета: `main-100`, `green-1100`, `red-100`

### 2. Для существующего кода:
- Legacy aliases обеспечивают работоспособность
- Постепенно мигрируйте на V2 систему при рефакторинге

### 3. Примеры миграции:

```html
<!-- Старый способ -->
<div class="text-text bg-cards border-stroke-element">

<!-- Новый способ V2 -->
<div class="text-text-1100 bg-cards-widget border-stroke-100">
```

## Исправленные проблемы

- **Исправлена структура текстовых цветов**: Убрана вложенная структура `text: { 1100: ... }` в пользу прямых классов `text-1100`
- **Устранены конфликты именования**: Теперь классы генерируются правильно без двойных префиксов
- **Сохранена обратная совместимость**: Все старые классы продолжают работать

## Тени

Добавлены новые переменные теней:
- `--shadow-test`
- `--shadow-test-2`

Доступны в Tailwind как `shadow-test` и `shadow-test-2`. 