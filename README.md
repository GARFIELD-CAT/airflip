# airflip

## Описание

Веб-приложение для децентрализованного обмена токенов на EVM-сетях с поддержкой crosschain

## Технологии

### Backend

- Python 3.12 — основной язык программирования.
- PostgreSQL 13.3 - база данных приложения
- Redis - для кеширования запросов
- FastAPI — фреймворк для создания асинхронных веб-эндпоинтов.
- Pydantic — модуль для валидации данных и работы с моделями.
- SQLAlchemy — ORM для работы с базой данных.
- Pytest — фреймворк для написания тестов.
- Docker — платформа для контейнеризации приложений.
- Docker Compose — инструмент для управления многоконтейнерными приложениями.
- Uvicorn — ASGI сервер для запуска приложения FastAPI.
- Alembic — инструмент для управления миграциями базы данных.

## Запуск проекта локально

### Backend

- Склонируйте репозиторий `git clone https://github.com/GARFIELD-CAT/airflip.git`
- Перейдите в папку проекта `airflip`
- Перейдите в папку `config`
- Создайте файлы .env в папках `pg_database` и `backend` с данными переменных окружения на основе шаблонов .env_prod_example. 
  - Сейчас достаточно просто убрать "_prod_example"
- Запустите docker контейнер `docker-compose up` для разворачивания сервиса
- Можно работать с API

## Работа с API

-  Документация по работе с API расположена по адресу http://localhost/api/openapi

## Запуск тестов
- Перейдите в папку проекта `airflip`
- Перейдите в папку `backend`
- Разверните venv окружение `py -3.12 -m venv venv`
- Активировать venv окружение `.\venv\Scripts\activate.bat`
  - Если используется PowerShell `.\venv\Scripts\Activate.ps1`
  - Если используете bash: `source ./venv/Scripts/activate`
- Установить poetry `pip install poetry`
- Установить зависимости `poetry install`
- Перейдите в папку `config`
- Создайте файлы .env в папках `pg_database` и `backend` с данными переменных окружения на основе шаблонов .env_prod_example. 
  - Сейчас достаточно просто убрать "_prod_example"
- Перейдите в папку проекта `airflip`
- Запустите docker контейнер `docker-compose up` для разворачивания сервиса
- После запуска сервиса перейдите в другое окно терминала
- Перейдите в папку `config\backend`
- Скопируйте значения ключей из `.env_test_example` и вставьте их в `.env`
  - Это нужно, чтобы тесты коннектились к базе.
- Перейдите в папку `backend`
- Активировать venv окружение по инструкции выше
- Запустите тесты командой `pytest -v .`

## Авторы

- backend: Ягунов Денис
- frontend: Миронов Эрнест
- дизайн: Самелюк Юрий
